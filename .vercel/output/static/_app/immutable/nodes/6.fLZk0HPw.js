import{t as w,a as f,n as O}from"../chunks/BhygiytR.js";import"../chunks/AyMsrB_a.js";import{p as K,a as Q,b as l,m as b,s as d,c as e,g as i,n as _,r as t,t as k}from"../chunks/49846gV3.js";import{s as E,e as F}from"../chunks/uxCHllH0.js";import{i as y}from"../chunks/7i1PPlP5.js";import{r as U,b as X,p as Y}from"../chunks/hFfBbPKR.js";import{i as Z}from"../chunks/DDAExgub.js";import{o as $}from"../chunks/Bt3JzDco.js";var ee=w('<div class="bg-red-50 border-l-4 border-red-400 p-4 mb-6"><div class="flex"><div class="flex-shrink-0"><svg class="h-5 w-5 text-red-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"></path></svg></div> <div class="ml-3"><p class="text-sm text-red-700"> </p></div></div></div>'),te=w('<div class="bg-green-50 border-l-4 border-green-400 p-4 mb-6"><div class="flex"><div class="flex-shrink-0"><svg class="h-5 w-5 text-green-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg></div> <div class="ml-3"><p class="text-sm text-green-700"> </p></div></div></div>'),re=O('<svg class="animate-spin -ml-1 mr-3 h-5 w-5 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg>'),ae=w(`<div class="text-center"><div class="rounded-md bg-blue-50 p-4 mb-6"><div class="flex"><div class="flex-shrink-0"><svg class="h-5 w-5 text-blue-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2h-1V9a1 1 0 00-1-1z" clip-rule="evenodd"></path></svg></div> <div class="ml-3 flex-1 md:flex md:justify-between"><p class="text-sm text-blue-700">We've sent a verification link to <strong> </strong>. Please check your inbox and click the link to verify your email address.</p></div></div></div> <p class="text-sm text-gray-600 mb-4">Didn't receive the email? Check your spam folder or try again.</p> <button type="button" class="inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"><!> Resend Verification Email</button></div>`),ie=O('<svg class="animate-spin -ml-1 mr-3 h-5 w-5 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg>'),se=w('<form class="space-y-6"><div><label for="email" class="block text-sm font-medium text-gray-700">Email address</label> <div class="mt-1"><input id="email" name="email" type="email" autocomplete="email" required class="appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm"></div></div> <div><button type="submit" class="w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"><!> Send Verification Email</button></div></form>'),le=w('<div class="min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8"><div class="sm:mx-auto sm:w-full sm:max-w-md"><div class="flex justify-center"><h1 class="text-3xl font-bold text-primary-700">Fefet</h1></div> <h2 class="mt-6 text-center text-3xl font-extrabold text-gray-900">Email Verification</h2> <p class="mt-2 text-center text-sm text-gray-600">We need to verify your email address</p></div> <div class="mt-8 sm:mx-auto sm:w-full sm:max-w-md"><div class="bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10"><!> <!> <!> <div class="mt-6"><div class="relative"><div class="absolute inset-0 flex items-center"><div class="w-full border-t border-gray-300"></div></div> <div class="relative flex justify-center text-sm"><span class="px-2 bg-white text-gray-500">Or</span></div></div> <div class="mt-6 text-center"><a href="/my/auth/login" class="font-medium text-primary-600 hover:text-primary-500">Return to Login</a></div></div></div></div></div>');function ue(A,H){K(H,!1);let c=b(""),C=b(!1),p=b(!1),u=b(""),h=b(""),I="";$(()=>{const a=sessionStorage.getItem("pendingVerificationEmail");a&&(l(c,a),l(C,!0))});const j=async()=>{if(!i(c)){l(u,"Please enter your email address");return}l(p,!0),l(u,"");try{const r=await(await fetch("/api/auth/magic-link",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:i(c)})})).json();if(!r.success)throw new Error(r.error||"Failed to send verification email");sessionStorage.setItem("pendingVerificationEmail",i(c)),l(C,!0),l(h,"Verification email sent! Please check your inbox."),r.devLink&&(I=r.devLink,l(h,i(h)+" (Dev mode: Check console for magic link)"),console.log("Magic Link:",r.devLink))}catch(a){a instanceof Error?l(u,a.message):l(u,"Failed to send verification email. Please try again.")}finally{l(p,!1)}},R=()=>{j()};Z();var z=le(),S=d(e(z),2),B=e(S),P=e(B);{var T=a=>{var r=ee(),s=e(r),o=d(e(s),2),n=e(o),v=e(n,!0);t(n),t(o),t(s),t(r),k(()=>E(v,i(u))),f(a,r)};y(P,a=>{i(u)&&a(T)})}var D=d(P,2);{var W=a=>{var r=te(),s=e(r),o=d(e(s),2),n=e(o),v=e(n,!0);t(n),t(o),t(s),t(r),k(()=>E(v,i(h))),f(a,r)};y(D,a=>{i(h)&&a(W)})}var q=d(D,2);{var J=a=>{var r=ae(),s=e(r),o=e(s),n=d(e(o),2),v=e(n),x=d(e(v)),L=e(x,!0);t(x),_(),t(v),t(n),t(o),t(s);var g=d(s,4),m=e(g);{var M=V=>{var G=re();f(V,G)};y(m,V=>{i(p)&&V(M)})}_(),t(g),t(r),k(()=>{E(L,i(c)),g.disabled=i(p)}),F("click",g,R),f(a,r)},N=a=>{var r=se(),s=e(r),o=d(e(s),2),n=e(o);U(n),t(o),t(s);var v=d(s,2),x=e(v),L=e(x);{var g=m=>{var M=ie();f(m,M)};y(L,m=>{i(p)&&m(g)})}_(),t(x),t(v),t(r),k(()=>x.disabled=i(p)),X(n,()=>i(c),m=>l(c,m)),F("submit",r,Y(j)),f(a,r)};y(q,a=>{i(C)?a(J):a(N,!1)})}_(2),t(B),t(S),t(z),f(A,z),Q()}export{ue as component};
